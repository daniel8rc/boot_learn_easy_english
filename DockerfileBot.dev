FROM ubuntu:18.04

RUN apt-get update && apt-get upgrade -y && apt-get install -y --no-install-recommends apt-utils
RUN mkdir /opt/bot_telegram/
WORKDIR /opt/bot_telegram/
RUN apt-get install -y locales
RUN locale-gen "es_ES.UTF-8"
RUN dpkg-reconfigure locales

ENV LANG es_ES.UTF-8  
ENV LANGUAGE es_ES:es  
ENV LC_ALL es_ES.UTF-8   


RUN apt-get update && \
  apt-get install -y --no-install-recommends \
  python3.6-dev \
  gcc \
  python3-pip \
  make \
  libmysqlclient-dev \
  libcurl4-openssl-dev \
  systemd \
  tmux \
  gettext \
  libsasl2-dev \
  python-dev \
  python3-setuptools \
  libldap2-dev \
  libssl-dev \
  python3-dev \
  libmysqlclient-dev \
  mysql-server \
  default-libmysqlclient-dev \
  vim \
  && rm -rf /var/lib/apt/lists/*


COPY requirements.txt /opt/bot_telegram/
RUN pip3 install -r /opt/bot_telegram/requirements.txt

RUN mkdir /var/log/bot_telegram/
RUN echo "alias python=python3" >> ~/.bashrc
RUN echo "alias pip=pip3" >> ~/.bashrc
